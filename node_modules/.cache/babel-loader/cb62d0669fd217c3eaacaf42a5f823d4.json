{"remainingRequest":"/Users/sharon/Desktop/vuexdemo/node_modules/babel-loader/lib/index.js!/Users/sharon/Desktop/vuexdemo/node_modules/eslint-loader/index.js??ref--13-0!/Users/sharon/Desktop/vuexdemo/src/store/modules/goodsList.js","dependencies":[{"path":"/Users/sharon/Desktop/vuexdemo/src/store/modules/goodsList.js","mtime":1628961289599},{"path":"/Users/sharon/Desktop/vuexdemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sharon/Desktop/vuexdemo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sharon/Desktop/vuexdemo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwp2YXIgc3RhdGUgPSB7CiAgZ29vZHNMaXN0OiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0TGlzdCcpKSB8fCBbXSAvLyDllYblk4HliJfooajvvIzliJrlvIDlp4vkuLrnqboKCn07CnZhciBnZXR0ZXJzID0gewogIGdldFRvdGFsQ291bnQ6IGZ1bmN0aW9uIGdldFRvdGFsQ291bnQoc3RhdGUpIHsKICAgIHZhciB0b3RhbENvdW50ID0gMDsKICAgIHN0YXRlLmdvb2RzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHRvdGFsQ291bnQgKz0gaXRlbS5udW07CiAgICB9KTsKICAgIHJldHVybiB0b3RhbENvdW50OwogIH0sCiAgZ2V0R29vZHNMaXN0OiBmdW5jdGlvbiBnZXRHb29kc0xpc3Qoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5nb29kc0xpc3Q7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIGFkZEdvb2RzOiBmdW5jdGlvbiBhZGRHb29kcyhzdGF0ZSwgZ29vZHMpIHsKICAgIC8vIG9sZEdvb2Rz77yM5bCx5piv56ys5LiA5qyh5re75Yqg6L+b5Y6755qE6YKj5Liq5a+56LGhCiAgICB2YXIgb2xkR29vZHMgPSBzdGF0ZS5nb29kc0xpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5pZCA9PT0gZ29vZHMuaWQ7CiAgICB9KTsKCiAgICBpZiAob2xkR29vZHMpIHsKICAgICAgLy8g5om+5Yiw5LqG77yM5LmL5YmN5a2Y5Zyo6L+HCiAgICAgIG9sZEdvb2RzLm51bSArPSAxOwogICAgfSBlbHNlIHsKICAgICAgLy8g5rKh5om+5Yiw77yM55u05o6l5paw5aKeCiAgICAgIHN0YXRlLmdvb2RzTGlzdC5wdXNoKGdvb2RzKTsKICAgIH0gLy8gRVM2IOWmguS9leS7juWvueixoeS4re+8jOaJvuWIsOafkOS4quWFg+e0oAogICAgLy8gY29uc29sZS5sb2coc3RhdGUuZ29vZHNMaXN0KQoKICB9Cn07CnZhciBhY3Rpb25zID0ge307CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["/Users/sharon/Desktop/vuexdemo/src/store/modules/goodsList.js"],"names":["state","goodsList","JSON","parse","localStorage","getItem","getters","getTotalCount","totalCount","forEach","item","num","getGoodsList","mutations","addGoods","goods","oldGoods","find","id","push","actions","namespaced"],"mappings":";;AAAA,IAAMA,KAAK,GAAG;AACZC,EAAAA,SAAS,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,KAAgD,EAD/C,CACkD;;AADlD,CAAd;AAGA,IAAMC,OAAO,GAAG;AACdC,EAAAA,aADc,yBACCP,KADD,EACQ;AACpB,QAAIQ,UAAU,GAAG,CAAjB;AACAR,IAAAA,KAAK,CAACC,SAAN,CAAgBQ,OAAhB,CAAwB,UAAAC,IAAI,EAAI;AAC9BF,MAAAA,UAAU,IAAIE,IAAI,CAACC,GAAnB;AACD,KAFD;AAIA,WAAOH,UAAP;AACD,GARa;AASdI,EAAAA,YATc,wBASAZ,KATA,EASO;AACnB,WAAOA,KAAK,CAACC,SAAb;AACD;AAXa,CAAhB;AAaA,IAAMY,SAAS,GAAG;AAChBC,EAAAA,QADgB,oBACNd,KADM,EACCe,KADD,EACQ;AACtB;AACA,QAAMC,QAAQ,GAAGhB,KAAK,CAACC,SAAN,CAAgBgB,IAAhB,CAAqB,UAAAP,IAAI;AAAA,aAAIA,IAAI,CAACQ,EAAL,KAAYH,KAAK,CAACG,EAAtB;AAAA,KAAzB,CAAjB;;AAEA,QAAIF,QAAJ,EAAc;AACZ;AACAA,MAAAA,QAAQ,CAACL,GAAT,IAAgB,CAAhB;AACD,KAHD,MAGO;AACL;AACAX,MAAAA,KAAK,CAACC,SAAN,CAAgBkB,IAAhB,CAAqBJ,KAArB;AACD,KAVqB,CAWtB;AACA;;AACD;AAde,CAAlB;AAgBA,IAAMK,OAAO,GAAG,EAAhB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbrB,EAAAA,KAAK,EAALA,KAFa;AAGbM,EAAAA,OAAO,EAAPA,OAHa;AAIbO,EAAAA,SAAS,EAATA,SAJa;AAKbO,EAAAA,OAAO,EAAPA;AALa,CAAf","sourcesContent":["const state = {\n  goodsList: JSON.parse(localStorage.getItem('cartList')) || [] // 商品列表，刚开始为空\n}\nconst getters = {\n  getTotalCount (state) {\n    let totalCount = 0\n    state.goodsList.forEach(item => {\n      totalCount += item.num\n    })\n\n    return totalCount\n  },\n  getGoodsList (state) {\n    return state.goodsList\n  }\n}\nconst mutations = {\n  addGoods (state, goods) {\n    // oldGoods，就是第一次添加进去的那个对象\n    const oldGoods = state.goodsList.find(item => item.id === goods.id)\n\n    if (oldGoods) {\n      // 找到了，之前存在过\n      oldGoods.num += 1\n    } else {\n      // 没找到，直接新增\n      state.goodsList.push(goods)\n    }\n    // ES6 如何从对象中，找到某个元素\n    // console.log(state.goodsList)\n  }\n}\nconst actions = {}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n}\n"]}]}